{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rohit\\\\OneDrive\\\\Desktop\\\\Ecommerce\\\\eCommerce-Application\\\\frontend\\\\src\\\\components\\\\AllProductAdmin.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\nimport \"../comp_css/AllProductAdmin.css\";\nimport axios from \"axios\";\nimport api from \"../Router/api\";\nimport UpdateProductForm from \"./UpdateProductForm\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AllProductAdmin = () => {\n  _s();\n  const {\n    productId\n  } = useParams();\n  const [products, setProducts] = useState([]);\n  const [deleted, setDeleted] = useState(false);\n  const [showUpdateModal, setShowUpdateModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const updateProduct = productIdToUpdate => {\n    const productToUpdate = products.find(product => product.productId === productIdToUpdate);\n    setSelectedProduct(productToUpdate);\n    setShowUpdateModal(true);\n  };\n  const closeUpdateModal = () => {\n    //sending function as a props to the updateproduct form\n    setSelectedProduct(null);\n    setShowUpdateModal(false);\n  };\n  const handleUpdate = updatedProduct => {\n    //sending function as a props to the updateproduct form\n    api.put(`/ecom/products/update/${updatedProduct.productId}`, updatedProduct).then(response => {\n      console.log(response.data);\n      console.log(\"working.....\");\n      closeUpdateModal();\n    }).catch(error => {\n      console.log(error.response.data.message);\n    });\n  };\n  const deleteProduct = productIdToDelete => {\n    api.delete(`/ecom/products/${productIdToDelete}`).then(response => {\n      alert(response.data);\n      const updatedProducts = products.filter(product => product.productId !== productIdToDelete);\n      setProducts(updatedProducts);\n      setDeleted(true);\n    }).catch(error => {\n      console.error(\"Error deleting product: \", error);\n      alert(error.response.data.message);\n    });\n  };\n  useEffect(() => {\n    axios.get(\"http://127.0.0.1:8080/ecom/products/all?sort=desc\").then(response => {\n      const sortedProducts = response.data.sort((a, b) => b.productId - a.productId);\n      setProducts(sortedProducts);\n      setDeleted(false);\n    }).catch(error => {\n      console.error(\"Error fetching data from the API: \", error);\n    });\n  }, [productId, deleted]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        color: \"green\",\n        textAlign: \"center\",\n        margin: \"5px\"\n      },\n      children: [\"ALL Live Products\", \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), showUpdateModal && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"update-modal\",\n      children: /*#__PURE__*/_jsxDEV(UpdateProductForm, {\n        product: selectedProduct,\n        onUpdate: handleUpdate,\n        onClose: closeUpdateModal\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"product-container1\",\n      children: products.map(product => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"product-card1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-image11\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: product.imageUrl,\n            alt: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"product-info1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: product.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Product ID: \", product.productId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Category: \", product.category]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Description:\", \" \", product.description.length > 30 ? product.description.substring(0, 50) + \"...\" : product.description]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"product-price1\",\n            children: [\"Price: \\u20B9 \", product.price]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-container1\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => updateProduct(product.productId),\n              children: \"update\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => deleteProduct(product.productId),\n              children: \"delete\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this)]\n      }, product.productId, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(AllProductAdmin, \"iDU95MqMi0vMdtBBOCoaAkK3pf8=\", false, function () {\n  return [useParams];\n});\n_c = AllProductAdmin;\nexport default AllProductAdmin;\nvar _c;\n$RefreshReg$(_c, \"AllProductAdmin\");","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","useNavigate","axios","api","UpdateProductForm","jsxDEV","_jsxDEV","Fragment","_Fragment","AllProductAdmin","_s","productId","products","setProducts","deleted","setDeleted","showUpdateModal","setShowUpdateModal","selectedProduct","setSelectedProduct","updateProduct","productIdToUpdate","productToUpdate","find","product","closeUpdateModal","handleUpdate","updatedProduct","put","then","response","console","log","data","catch","error","message","deleteProduct","productIdToDelete","delete","alert","updatedProducts","filter","get","sortedProducts","sort","a","b","children","style","color","textAlign","margin","fileName","_jsxFileName","lineNumber","columnNumber","className","onUpdate","onClose","map","src","imageUrl","alt","name","category","description","length","substring","price","onClick","_c","$RefreshReg$"],"sources":["C:/Users/rohit/OneDrive/Desktop/Ecommerce/eCommerce-Application/frontend/src/components/AllProductAdmin.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, Link, useNavigate } from \"react-router-dom\";\r\nimport \"../comp_css/AllProductAdmin.css\";\r\nimport axios from \"axios\";\r\nimport api from \"../Router/api\";\r\nimport UpdateProductForm from \"./UpdateProductForm\";\r\n\r\nconst AllProductAdmin = () => {\r\n  const { productId } = useParams();\r\n  const [products, setProducts] = useState([]);\r\n  const [deleted, setDeleted] = useState(false);\r\n  const [showUpdateModal, setShowUpdateModal] = useState(false); \r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n\r\n  const updateProduct = (productIdToUpdate) => {\r\n    const productToUpdate = products.find(\r\n      (product) => product.productId === productIdToUpdate\r\n    );\r\n    setSelectedProduct(productToUpdate);\r\n    setShowUpdateModal(true);\r\n  };\r\n\r\n  const closeUpdateModal = () => {//sending function as a props to the updateproduct form\r\n    setSelectedProduct(null);\r\n    setShowUpdateModal(false);\r\n  };\r\n  \r\n  const handleUpdate = (updatedProduct) => {//sending function as a props to the updateproduct form\r\n    api\r\n      .put(`/ecom/products/update/${updatedProduct.productId}`, updatedProduct)\r\n      .then((response) => {\r\n        console.log(response.data);\r\n        console.log(\"working.....\");\r\n        closeUpdateModal();\r\n      })\r\n      .catch((error) => {\r\n        console.log(error.response.data.message);\r\n      });\r\n  };\r\n\r\n  const deleteProduct = (productIdToDelete) => {\r\n    api\r\n      .delete(`/ecom/products/${productIdToDelete}`)\r\n      .then((response) => {\r\n        alert(response.data);\r\n\r\n        const updatedProducts = products.filter(\r\n          (product) => product.productId !== productIdToDelete\r\n        );\r\n        setProducts(updatedProducts);\r\n        setDeleted(true);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error deleting product: \", error);\r\n        alert(error.response.data.message);\r\n      });\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"http://127.0.0.1:8080/ecom/products/all?sort=desc\")\r\n      .then((response) => {\r\n        const sortedProducts = response.data.sort(\r\n          (a, b) => b.productId - a.productId\r\n        );\r\n        setProducts(sortedProducts);\r\n\r\n        setDeleted(false);\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching data from the API: \", error);\r\n      });\r\n  }, [productId, deleted]);\r\n\r\n  return (\r\n    <>\r\n      <h1 style={{ color: \"green\", textAlign: \"center\", margin: \"5px\" }}>\r\n        ALL Live Products{\" \"}\r\n      </h1>\r\n\r\n      {showUpdateModal && (\r\n        <div className=\"update-modal\">\r\n          <UpdateProductForm product={selectedProduct} onUpdate={handleUpdate}onClose={closeUpdateModal}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n\r\n      <div className=\"product-container1\">\r\n        {products.map((product) => (\r\n          <div className=\"product-card1\" key={product.productId}>\r\n            <div className=\"product-image11\">\r\n              <img src={product.imageUrl} alt={product.name} />\r\n            </div>\r\n            <div className=\"product-info1\">\r\n              <h2>{product.name}</h2>\r\n              <p>Product ID: {product.productId}</p>\r\n              <p>Category: {product.category}</p>\r\n              <p>\r\n                Description:{\" \"}\r\n                {product.description.length > 30\r\n                  ? product.description.substring(0, 50) + \"...\"\r\n                  : product.description}\r\n              </p>\r\n\r\n              <h2 className=\"product-price1\">Price: â‚¹ {product.price}</h2>\r\n              <div className=\"button-container1\">\r\n                <button onClick={() => updateProduct(product.productId)}>\r\n                  update\r\n                </button>\r\n                <button onClick={() => deleteProduct(product.productId)}>\r\n                  delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div> \r\n    </>\r\n  );\r\n};\r\n\r\nexport default AllProductAdmin;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}